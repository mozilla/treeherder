/*
 * Common job, group and count styling
 */

.job-group {
  margin: 0;
  cursor: default;
}

/* Use higher specificity to override Bootstrap's .btn variables */
button.btn.job-btn {
  --bs-btn-padding-y: 0;
  --bs-btn-padding-x: 2px;
  --bs-btn-font-size: 12px;
  --bs-btn-line-height: 1.32;
  background-color: transparent;
  vertical-align: 0;
  display: none;
  transition: transform 0.1s;
}

button.btn.group-btn {
  --bs-btn-padding-y: 0;
  --bs-btn-padding-x: 2px;
  --bs-btn-font-size: 12px;
  --bs-btn-line-height: 1.32;
  background: transparent;
  vertical-align: 0;
  cursor: pointer;
}

.group-btn::before {
  content: '+';
}

.group-btn.btn.job-group-count:hover {
  background-color: rgba(219, 235, 252, 0.51);
}

button.btn.group-symbol {
  --bs-btn-padding-y: 0;
  --bs-btn-padding-x: 2px;
  --bs-btn-line-height: 1.32;
  background: transparent;
  border: 0;
  vertical-align: 0;
  cursor: pointer;
  margin-right: -3px;
}

.group-symbol:hover {
  cursor: pointer;
}

.group-content {
  margin: 0;
  white-space: nowrap;
}

.group-content::before {
  content: '(';
  padding-left: 2px;
  padding-right: 2px;
}

.group-content::after {
  content: ')';
  margin-right: 2px;
  padding-left: 2px;
}

.group-job-list {
  margin-left: -3px;
  white-space: normal;
}

button.btn.runnable-job-btn {
  --bs-btn-padding-y: 0;
  --bs-btn-padding-x: 2px;
  --bs-btn-font-size: 12px;
  --bs-btn-line-height: 1.32;
  display: none;
  color: rgba(128, 128, 0, 0.5);
  margin: 0;
  background: transparent;
  vertical-align: 0;
  border-radius: 0;
  text-align: center;
  white-space: nowrap;
}

.runnable-job-btn-selected {
  outline: 1px solid;
  outline-radius: 3px;
  overflow: visible;
}

/* Selected jobs: white background for classified failures and non-failures */
.job-btn.selected-job:not([data-status='testfailed']):not([data-status='busted']):not([data-status='exception']),
.job-btn.selected-job[data-classified='true'] {
  background: #fff;
}

/* All selected jobs get outline matching text color */
.job-btn.selected-job {
  outline: 4px solid;
  outline-color: currentcolor;
}

/* Unclassified failures: darker outline on colored background */
.job-btn.selected-job[data-status='testfailed']:not([data-classified='true']) {
  outline-color: var(--status-testfailed-hover);
}

.job-btn.selected-job[data-status='busted']:not([data-classified='true']) {
  outline-color: var(--status-busted-hover);
}

.job-btn.selected-job[data-status='exception']:not([data-classified='true']) {
  outline-color: var(--status-exception-hover);
}

.selected-count {
  background-color: #ffffffb3;
}

.btn-lg-xform {
  outline: 2px solid;
  outline-radius: 3px;
  font-size: 12px;
  z-index: 1;
  transition: 0.1s;
  transform: scale(1.3, 1.3);
}

.btn-lg-xform:hover {
  opacity: 0.9;
}

/* Override display:none for filtered job buttons with matching specificity */
button.btn.job-btn.filter-shown,
button.btn.runnable-job-btn.filter-shown {
  display: inline-block;
}

.filter-shown {
  display: inline-block;
}

/*
 * Shared color tokens for job statuses
 */
:root {
  --status-testfailed: #dd6602;
  --status-testfailed-hover: #c15700;
  --status-testfailed-classified: #b45303;
  --status-busted: #b74c4c;
  --status-busted-hover: #a1020e;
  --status-busted-classified: #90010a;
  --status-exception: #9a7da6;
  --status-exception-hover: #3a004d;
  --status-exception-classified: #6f0296;
  --status-retry: #283aa2;
  --status-retry-hover: #263fc3;
  --status-success: rgba(2, 130, 51, 0.95);
  --status-success-hover: #017722;
  --status-usercancel: #cf2b9f;
  --status-superseded: #3f77c6;
  --status-pending: #757575;
  --status-pending-hover: #808080;
  --status-running: black;
  --status-unscheduled: #26d7b6;
  --status-unscheduled-hover: #21b69b;
  --status-unknown: #8a6d3b;
  --status-unknown-bg: #fcf8e3;
  --status-unknown-border: #fbd890;
}

/*
 * Job button colors and classification states
 */

.job-btn[data-status],
.group-btn[data-status] {
  margin: 0 -2px 0 0;
}

.job-btn[data-status='testfailed'],
.job-btn[data-status='busted'],
.job-btn[data-status='unknown'],
.job-btn[data-status='exception'] {
  margin: 0 -1px 1px 1px;
}

.classified-icon,
.intermittent-icon {
  font-size: 0.62em;
}

.classified-icon {
  vertical-align: super;
}

.intermittent-icon {
  vertical-align: sub;
}

/* Bold buttons for failure states */
.job-btn[data-status='testfailed'],
.job-btn[data-status='busted'],
.job-btn[data-status='exception'],
.job-btn[data-status='usercancel'],
.job-btn[data-status='retry'],
.job-btn[data-status='success'],
.job-btn[data-status='superseded'],
.job-btn[data-status='unknown'] {
  font-weight: bold;
}

/* Testfailed (orange) - unclassified keeps colored background when selected */
.job-btn[data-status='testfailed']:not([data-classified='true']),
.group-btn[data-status='testfailed']:not([data-classified='true']) {
  color: var(--failure-color, white);
  background-color: var(--failure-bg-color, var(--status-testfailed));
}
.job-btn[data-status='testfailed']:not([data-classified='true']):not(.selected-job):hover,
.job-btn[data-status='testfailed']:not([data-classified='true']):not(.selected-job):focus,
.job-btn[data-status='testfailed']:not([data-classified='true']):not(.selected-job):active {
  background-color: var(--status-testfailed-hover);
  color: white;
}

/* Testfailed classified */
.job-btn[data-status='testfailed'][data-classified='true'],
.group-btn[data-status='testfailed'][data-classified='true'] {
  color: var(--status-testfailed-classified);
}
.job-btn[data-status='testfailed'][data-classified='true']:not(.selected-job),
.group-btn[data-status='testfailed'][data-classified='true'] {
  background-color: transparent;
}
.job-btn[data-status='testfailed'][data-classified='true']:not(.selected-job):hover,
.job-btn[data-status='testfailed'][data-classified='true']:not(.selected-job):focus,
.job-btn[data-status='testfailed'][data-classified='true']:not(.selected-job):active {
  background-color: var(--status-testfailed-classified);
  color: white;
}

/* Busted (red) - unclassified keeps colored background when selected */
.job-btn[data-status='busted']:not([data-classified='true']),
.group-btn[data-status='busted']:not([data-classified='true']) {
  color: white;
  background-color: var(--status-busted);
}
.job-btn[data-status='busted']:not([data-classified='true']):not(.selected-job):hover,
.job-btn[data-status='busted']:not([data-classified='true']):not(.selected-job):focus,
.job-btn[data-status='busted']:not([data-classified='true']):not(.selected-job):active {
  background-color: var(--status-busted-hover);
  color: white;
}

/* Busted classified */
.job-btn[data-status='busted'][data-classified='true'],
.group-btn[data-status='busted'][data-classified='true'] {
  color: var(--status-busted-classified);
}
.job-btn[data-status='busted'][data-classified='true']:not(.selected-job),
.group-btn[data-status='busted'][data-classified='true'] {
  background-color: transparent;
}
.job-btn[data-status='busted'][data-classified='true']:not(.selected-job):hover,
.job-btn[data-status='busted'][data-classified='true']:not(.selected-job):focus,
.job-btn[data-status='busted'][data-classified='true']:not(.selected-job):active {
  background-color: var(--status-busted-classified);
  color: white;
}

/* Retry (dark blue) */
.job-btn[data-status='retry'],
.group-btn[data-status='retry'] {
  color: var(--status-retry);
}
.job-btn[data-status='retry']:not(.selected-job),
.group-btn[data-status='retry'] {
  background-color: transparent;
}
.job-btn[data-status='retry']:not(.selected-job):hover,
.job-btn[data-status='retry']:not(.selected-job):focus,
.job-btn[data-status='retry']:not(.selected-job):active {
  background-color: var(--status-retry-hover);
  color: white;
}

/* Success (green) */
.job-btn[data-status='success'],
.group-btn[data-status='success'] {
  color: var(--status-success);
}
.job-btn[data-status='success']:not(.selected-job),
.group-btn[data-status='success'] {
  background-color: transparent;
}
.job-btn[data-status='success']:not(.selected-job):hover,
.job-btn[data-status='success']:not(.selected-job):focus,
.job-btn[data-status='success']:not(.selected-job):active {
  background-color: var(--status-success-hover);
  color: white;
}

/* Exception (purple) - unclassified keeps colored background when selected */
.job-btn[data-status='exception']:not([data-classified='true']),
.group-btn[data-status='exception']:not([data-classified='true']) {
  color: #3a004d;
  background-color: var(--status-exception);
}
.job-btn[data-status='exception']:not([data-classified='true']):not(.selected-job):hover,
.job-btn[data-status='exception']:not([data-classified='true']):not(.selected-job):focus,
.job-btn[data-status='exception']:not([data-classified='true']):not(.selected-job):active {
  background-color: var(--status-exception-hover);
  color: white;
}

/* Exception classified */
.job-btn[data-status='exception'][data-classified='true'],
.group-btn[data-status='exception'][data-classified='true'] {
  color: var(--status-exception-classified);
}
.job-btn[data-status='exception'][data-classified='true']:not(.selected-job),
.group-btn[data-status='exception'][data-classified='true'] {
  background-color: transparent;
}
.job-btn[data-status='exception'][data-classified='true']:not(.selected-job):hover,
.job-btn[data-status='exception'][data-classified='true']:not(.selected-job):focus,
.job-btn[data-status='exception'][data-classified='true']:not(.selected-job):active {
  background-color: var(--status-exception-classified);
  color: white;
}

/* Superseded (light blue) */
.job-btn[data-status='superseded'],
.group-btn[data-status='superseded'] {
  color: var(--status-superseded);
}
.job-btn[data-status='superseded']:not(.selected-job),
.group-btn[data-status='superseded'] {
  background-color: transparent;
}
.job-btn[data-status='superseded']:not(.selected-job):hover,
.job-btn[data-status='superseded']:not(.selected-job):focus,
.job-btn[data-status='superseded']:not(.selected-job):active {
  background-color: var(--status-superseded);
  color: white;
}

/* Pending (light gray) */
.job-btn[data-status='pending'],
.group-btn[data-status='pending'] {
  color: var(--status-pending);
}
.job-btn[data-status='pending']:not(.selected-job),
.group-btn[data-status='pending'] {
  background-color: transparent;
}
.job-btn[data-status='pending']:not(.selected-job):hover,
.job-btn[data-status='pending']:not(.selected-job):focus,
.job-btn[data-status='pending']:not(.selected-job):active {
  color: var(--status-pending-hover);
}

/* Running (dark gray/black) */
.job-btn[data-status='running'],
.group-btn[data-status='running'] {
  color: var(--status-running);
}
.job-btn[data-status='running']:not(.selected-job),
.group-btn[data-status='running'] {
  background-color: transparent;
}
.job-btn[data-status='running']:not(.selected-job):hover,
.job-btn[data-status='running']:not(.selected-job):focus,
.job-btn[data-status='running']:not(.selected-job):active {
  background-color: var(--status-running);
  color: white;
}

/* Unknown (yellow) */
.job-btn[data-status='unknown'],
.group-btn[data-status='unknown'] {
  border-color: var(--status-unknown-border);
  color: var(--status-unknown);
}
.job-btn[data-status='unknown']:not(.selected-job),
.group-btn[data-status='unknown'] {
  background-color: var(--status-unknown-bg);
}
.job-btn[data-status='unknown']:not(.selected-job):hover,
.job-btn[data-status='unknown']:not(.selected-job):focus,
.job-btn[data-status='unknown']:not(.selected-job):active {
  background-color: var(--status-unknown);
  color: var(--status-unknown-bg);
}

/* Usercancel (pink) */
.job-btn[data-status='usercancel'],
.group-btn[data-status='usercancel'] {
  color: var(--status-usercancel);
}
.job-btn[data-status='usercancel']:not(.selected-job),
.group-btn[data-status='usercancel'] {
  background-color: transparent;
}
.job-btn[data-status='usercancel']:not(.selected-job):hover,
.job-btn[data-status='usercancel']:not(.selected-job):focus,
.job-btn[data-status='usercancel']:not(.selected-job):active {
  background-color: var(--status-usercancel);
  color: white;
}

/* Unscheduled (tan/beige) */
.job-btn[data-status='unscheduled'],
.group-btn[data-status='unscheduled'] {
  color: var(--status-unscheduled);
}
.job-btn[data-status='unscheduled']:not(.selected-job),
.group-btn[data-status='unscheduled'] {
  background-color: transparent;
}
.job-btn[data-status='unscheduled']:not(.selected-job):hover,
.job-btn[data-status='unscheduled']:not(.selected-job):focus,
.job-btn[data-status='unscheduled']:not(.selected-job):active {
  color: var(--status-unscheduled-hover);
}

button.btn.group-select-all-runnable {
  --bs-btn-padding-y: 0;
  --bs-btn-padding-x: 2px;
  --bs-btn-font-size: 12px;
  --bs-btn-line-height: 1.32;
  color: rgba(128, 128, 0, 0.5);
  background: transparent;
  border: 0;
  vertical-align: 0;
  cursor: pointer;
  margin-right: -3px;
}

.group-select-all-runnable:hover {
  cursor: pointer;
}

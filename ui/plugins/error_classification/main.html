<div ng-controller="ClassificationPluginCtrl"
     class="error-classification-content">
  <ul class="list-unstyled">

    <li ng-repeat="line in failureLines"
        class="">
      <span class=""><strong>
        {{line.matches | classified}}
      </strong></span>
      <span ng-if="line.action === 'test_result'">
        <span>{{line.test}} {{line.subtest}}
          Expected: {{line.expected}}, got: <span class="label label-default">{{line.status}}</span>
        </span>
        <div ng-if="line.message"
             ng-init="messageExpanded=false"
             class="failure-line-message">
             <span class="failure-line-message-toggle fa fa-fw fa-lg"
                     ng-class="{'fa-caret-down': messageExpanded, 'fa-caret-right': !messageExpanded}"
                     ng-click="messageExpanded = !messageExpanded"></span>
             <span ng-if="!messageExpanded"
                   class="failure-line-message-collapsed">{{ line.message }}</span>
             <pre ng-if="messageExpanded"
                  class="failure-line-message-expanded">{{ line.message }}</pre>
        </div>
      </span>
      <span ng-if="line.action === 'log'">
        LOG {{line.level}} | {{line.message}}
      </span>
      <span ng-if="line.action === 'crash'">
        CRASH | {{line.signature}}
      </span>
      <span ng-if="line.action === ''">
        CRASH | {{line.signature}}
      </span>
    </li>

    <!-- Wrong if condition here -->
    <li ng-if="!tabs.errorClassification.is_loading &&  (!failureLines || failureLines.length == 0)">
      <span>No classifiable errors for this job.</span>
    </li>
  </ul>
</div>

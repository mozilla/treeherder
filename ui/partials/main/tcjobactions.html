<div class="modal-header">
  <button type="button" class="close" ng-click="cancel()"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
  <h4 class="modal-title">Custom Taskcluster Job Actions</h4>
</div>
<div ng-if="!actions" class="modal-body">
  <p class="blink">Getting available actions ...</p>
</div>
<div ng-if="actions" class="modal-body">
  <div class="form-group">
    <label>Action</label>
    <select aria-describedby="selectedActionHelp" class="form-control" ng-model="input.selectedAction" ng-options="action.title for action in actions" ng-change="updateSelectedAction()">
    </select>
    <p id="selectedActionHelp" class="help-block">{{input.selectedAction.description}}</p>
  </div>
  <div class="form-group">
    <label>JSON Payload</label>
     <textarea ng-model="input.jsonPayload" class="form-control" rows="5" spellcheck=false/>
  </div>
  {{input.selectedAction.jsonPayload}}
</div>
<div class="modal-footer">
  <button ng-if="user.loggedin" class="btn btn-primary" ng-click="triggerAction()" ng-attr-title="{{user.loggedin ? 'Trigger this action' : 'Not logged in'}}" ng-disabled="triggering">
    <span class="glyphicon glyphicon-check" aria-hidden="true"></span>
    <span ng-if="triggering">Triggering</span>
    <span ng-if="!triggering">Trigger</span>
  </button>
  <p ng-if="!user.loggedin" class="help-block">Custom actions require login</p>
</div>

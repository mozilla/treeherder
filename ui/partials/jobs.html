
<div>
<div ng-repeat="resultset in result_sets"
     ng-controller="ResultSetCtrl"
     class="result-set">

    <span th-show-jobs severity="resultSeverity"></span>
    <a class="text-left btn btn-info th-revision-btn"
       ng-click="isCollapsedRevisions = !isCollapsedRevisions"
       >
        <div class="text-left">{{resultset.push_timestamp*1000|date:'medium'}} - {{resultset.author}} - {{resultset.revision}}</div>
    </a>

    <span class="th-action-button pull-right"
          ng-hide="isLoadingResults">
        <span class="dropdown">
            <a class="btn btn-default dropdown-toggle" data-hover="dropdown" data-delay="1000" href="#">
                <i class="glyphicon glyphicon-cog"></i>
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu pull-right">
                <li class="disabled"><a>Result Set Actions</a></li>
                <li class="divider"></li>
                <li><a target="_blank" href="https://tbpl.mozilla.org/mcmerge/?cset=8196c86355bc">m-mcMerge</a></li>
                <li><a target="_blank" href="https://secure.pub.build.mozilla.org/buildapi/self-serve/mozilla-central/rev/8196c86355bc">BuildAPI</a></li>
                <li><a target="_blank" href="">Changeset URL List</a></li>
                <li><a href="">Compare</a></li>
                <li><a href="">Cancel All Jobs</a></li>
            </ul>
        </span>
    </span>
    <div class="progress progress-striped active th-rs-loading"
         ng-show="isLoadingResults">
        <div class="progress-bar"  role="progressbar" style="width: 100%"></div>
    </div>

    <div class="clearfix"></div>

    <div ng-hide="isCollapsedRevisions && isCollapsedResults"
         class="row result-set">
        <span ng-hide="isCollapsedRevisions"
              ng-class="{'col-md-4': (isCollapsedResults==false)}"
              class="revision-list">
            <ul class="list-unstyled">
                <li ng-repeat="revision in resultset.revision_list"
                    class="revision">
                    <span class="label label-default">{{revision.revision}}</span> {{revision.author}} <span ng-show="revision.comment" class="italic">"{{revision.comments}}"</span>
                </li>
            </ul>
        </span>
        <span ng-hide="isCollapsedResults"
              ng-class="{'col-md-8': (isCollapsedRevisions==false), 'col-md-12': (isCollapsedRevisions)}"
              class="job-list">
            <table class="table-hover">
                <tr ng-repeat="platform in resultset.platforms | filter:query">
                    <td class="col-md-2 platform"><span>{{ platform.name }}</span></td>
                    <td class="col-md-10">
                        <span ng-repeat="group in platform.groups">
                            <span ng-show="group.symbol != '?'"
                               class="disabled job-group"
                               title="{{ group.name }}">{{ group.symbol }}(</span>
                            <span>
                                <th-job-button class="job-btn" ng-repeat="job in group.jobs"></th-job-button>
                            </span>
                            <span ng-show="group.symbol != '?'" class="job-group-r-paren">)</span>
                        </span>
                    </td>
                </tr>
            </table>
        </span>
    </div>
</div>
<div class="well">
    get next: <div class="btn-group">
        <div class="btn btn-default btn-sm"
             ng-click="nextResultSets(count)"
             ng-repeat="count in [10, 20, 50, 100]">{{count}}</div>
    </div>
</div>


<div>
<div ng-repeat="resultset in result_sets"
     ng-controller="ResultSetCtrl"
     class="result-set row-fluid">

    <a class="btn {{ resultsetStateBtn }} show-jobs-button pull-left"
       ng-click="isCollapsedResults = !isCollapsedResults">
           <i class="{{ icon }}"></i>
           {{ ' jobs' | showOrHide:isCollapsedResults }}
    </a>
    <a class="span7 text-left btn btn-info"
       ng-click="isCollapsedRevisions = !isCollapsedRevisions">
        <div class="text-left">{{resultset.push_timestamp*1000|date:'medium'}} - {{resultset.author}} - {{resultset.revision}}</div>
    </a>

    <span class="span1 resultsetactions">
        <span class="dropdown">
            <a class="btn dropdown-toggle" data-hover="dropdown" data-delay="1000" href="#">
                <i class="icon-cog"></i>
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
                <li class="disabled"><a>Result Set Actions</a></li>
                <li class="divider"></li>
                <li><a target="_blank" href="https://tbpl.mozilla.org/mcmerge/?cset=8196c86355bc">m-mcMerge</a></li>
                <li><a target="_blank" href="https://secure.pub.build.mozilla.org/buildapi/self-serve/mozilla-central/rev/8196c86355bc">BuildAPI</a></li>
                <li><a target="_blank" href="">Changeset URL List</a></li>
                <li><a href="">Compare</a></li>
                <li><a href="">Cancel All Jobs</a></li>
            </ul>
        </span>
    </span>
    <div class="span1" ng-show="isLoadingResults">
        <div class="progress progress-striped active"><progress percent="100"></progress></div>
    </div>
    <div class="clearfix"></div>

    <div ng-hide="isCollapsedRevisions">
        <ul class="unstyled">
            <li ng-repeat="revision in resultset.revisions">
                <h5>{{revision.name}} - <a class="btn">{{revision.revision}}</a> <a class="btn">{{revision.bug_id}}</a></h5>
                <small>{{revision.message}}</small>
            </li>
        </ul>
    </div>
    <div ng-class="{'hidden': (isCollapsedResults==true)}">
        <table class="table job-table table-hover">
            <tr ng-repeat="platform in job_results | filter:query">
                <td class="span2"><span>{{ platform.name }}</span></td>
                <td class="span10">
                    <span ng-repeat="group in platform.groups">
                        <span ng-show="group.symbol"
                           class="disabled"
                           title="{{ group.name }}">
                           {{ group.symbol }}(
                        </span>
                        <span>
                            <th-job-button ng-repeat="job in group.jobs"></th-job-button>
                        </span>
                        <span ng-show="group.symbol">)</span>
                    </span>
                </td>
            </tr>
        </table>
    </div>
</div>
<div class="well">
    get next: <div class="btn-group">
        <div class="btn btn-small"
             ng-click="nextResultSets(count)"
             ng-repeat="count in [10, 20, 50, 100]">{{count}}</div>
    </div>
</div>
